# Vuex

1. 什么是Vuex?
   1. 他是Vue的一个插件库(Vue.use)
   2. 用于管理**多组件之间**的共享状态
2. 核心概念
   1. store
      1. 用处:用于管理state,mutation,action和getter,并且向外暴露一些操作API
   2. state
      1. 用处:用于存储多组件之间的共享状态
      2. state中的属性默认是响应式属性,如果代码书写不规范,可能会出现非响应式属性
   3. mutation
      1. 数据类型:函数
      2. 用处:对state数据进行直接操作
      3. 面试题:mutation为什么必须是同步函数?
         1. 官方语法规范
         2. **Vue devtools只会记录触发了多少个mutation,如果mutation是异步函数,会导致Vuex状态数据变化无法追踪,导致开发难度提高**
      4. 面试题:为什么mutation的名称最好是常量?
         1. **主要是为了方便多人共同维护代码,如果不使用常量声明mutation事件类型,很可能出现其余程序员的mutation覆盖前者的操作,导致代码维护难度提高**
   4. action
      1. 数据类型:函数
      2. 用处:可以在此处发送请求,它可以通过触发mutation间接修改state数据
      3. 面试题:仅从技术角度来说,action能不能做到修改state数据?
         1. 可以的
      4. 面试题:那么既然action可以直接修改state数据,为什么不直接修改,反而必须触发mutation?
         1. 官方语法规范
         2. **Vue devtools只会记录触发了多少个mutation,不会记录action操作,如果直接用action进行state数据修改,会导致Vuex状态数据变化无法追踪,导致开发难度提高**
   5. getter
      1. 数据类型:函数
      2. 用处:类似组件中的computed,他就是Vuex用于监视state的计算属性
      3. **面试题:请说说computed和watch的理解**
         1. **相同点**
            1. **他们两个数据类型都是函数**
            2. **他们两者都可以监视响应式属性的变化,如果监视的响应式属性发生变化,会执行对应的函数**
               1. **注意:如果监视的是非响应式属性(普通属性),那么监视效果会失效**
         2. **不同点**
            1. **使用场景不同**
               1. **computed**
                  1. **我现在需要一个数据,可惜我手头没有,但是我可以通过现有的data或者props进行计算得到,那么就是用computed**
                  2. **例如:购物车的总价,总数等功能,虽然服务器可能没有返回总价数据,但是可以通过现有的商品列表进行统计计算得到**
               2. **watch**
                  1. **如果某个数据发生变化的时候,我需要做一些事情(函数),那么就是用watch**
                  2. **例如:搜索页面再次进行搜索操作,虽然搜索的内容发生了变化,但是由于当前搜索组件不会重新挂载,导致页面显示的依旧是旧数据,所以可以使用wacth监视$route.query.keyword属性,如果该属性发生变化,就立即请求最新的数据**
            2. **computed具有缓存**
   6. dispatch
      1. 用处:用于调用action函数
   7. commit
      1. 用处:用于调用mutation函数