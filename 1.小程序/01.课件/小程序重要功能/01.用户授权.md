# 小程序用户授权

1. 截至21/12/22,小程序发展史上一共出现了3种获取用户个人信息方法
2. 首次登录授权:
   1. 早期
   2. 中期(使用时间最长的一个版本,于21年4月份正式失效)
      1. 组件:button
      2. 实现流程:
         1. 通过给button组件添加标签属性open-type="getUserInfo",可以实现用户点击button按钮弹出授权窗口功能
         2. 给button组件绑定事件,事件名:getuserinfo
         3. 在回调函数中,通过形参可以获取到用户的个人信息(event.detail.userInfo)
         4. 将个人信息更新到data中
         5. 在模版中使用插值语法进行动态展示
   3. 最新
3. 二次登录免授权(又称为**静默登录**)
   1. 需求:当用户进入小程序时,自动获取用户个人信息,并展示在页面上
   2. 拆解:
      1. 当用户进入小程序时
         1. 生命周期(就是最大的事件监听)
         2. 生命周期选择onLoad
      2. 自动获取用户个人信息
         1. 使用js获取用户个人信息
         2. API:wx.getUserInfo(Object object)
      3. 展示在页面上
         1. 通过将数据更新到data中,页面会自动渲染用户信息