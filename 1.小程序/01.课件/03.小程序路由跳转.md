# 小程序路由跳转

1. 单页面应用
   1. 页面其实就是html文件,那么单页面应用就是说明当前项目只存在一个html文件,假设需要展示全新的内容,不需要重新请求一个新的html文件,而是通过原生DOM的CRUD方法对当前html文件内容进行修改,实现新内容的展示
2. VueRouter的路由跳转方式
   1. 声明式导航
      1. router-link
      2. 默认会生成a标签,引导用户跳转,但是跟传统a标签不同,他不会跳转到新的页面去
      3. **定义:通过标签形式,引导用户进行路由跳转**
   2. 编程式导航
      1. **定义:通过js代码控制用户进行路由跳转**
      2. 例如VueRouter中的push,replace,go,back等方法控制用户跳转,这类跳转因为不会请求新的页面,所以算是伪跳转
      3. 例如:window.location.href也可以控制用户进行路由跳转
3. 小程序的路由跳转方式
   1. 声明式导航
      1. 组件名:navigator
   2. 编程式导航
      1. wx.navigateTo(**相当于push+keep-alive**)
         1. 特点:**保留当前页面(保留当前页面实例对象)**，跳转到应用内的某个页面
         2. 配置对象必传参数
            1. url->跳转页面的对应链接
               1. 绝对路径->参考于当前项目根路径
               2. 相对路径->参考于当前文件夹路径
         3. **注意:小程序中页面栈最多十层,旧版中最多五层**(就相当于keep-alive的max属性等于10)
            1. **如果达到页面栈层级上限,那么就不会跳转新的页面,跳转api会失效**
      2. wx.redirectTo(**相当于replace**)
         1. 特点:**关闭当前页面(销毁当前页面实例对象)**，跳转到应用内的某个页面
         2. 配置对象必传参数
            1. url->跳转页面的对应链接
               1. 绝对路径->参考于当前项目根路径
               2. 相对路径->参考于当前文件夹路径
         3. wx.readirectTo会关闭上个页面,也就是销毁上个页面的实例对象,不会增加页面栈层数
4. **keep-alive组件(牵扯到性能优化)**
   1. **用处:可以缓存组件实例对象,让其不会进入卸载阶段(也就意味着无法再次挂载)**
   2. 内部组件在失去初始化以及卸载阶段的同时,**就会获得activated(激活)和deactivated(失活)**
   3. **include属性**
      1. **只有名称匹配的组件会被缓存**
   4. **exclude属性**
      1. **任何名称匹配的组件都不会被缓存**
   5. **max属性**
      1. **可以限制keep-alive组件缓存的实例个数**(缓存实例对象需要占用更多的内存)
      2. **一旦这个数字达到了，在新实例被创建之前，已缓存组件中最久没有被访问的实例会被销毁掉**